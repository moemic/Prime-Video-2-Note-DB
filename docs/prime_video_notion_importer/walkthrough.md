# 修正内容の確認 (Walkthrough) - サムネイル画像のサイズ順ソート

抽出された画像の候補を、単純な取得順ではなく、ファイルサイズ（解像度）が大きいものから優先的に表示するように変更しました。

## 変更内容の概要

### 1. 高画質画像の優先表示
- `content.js` が画像を抽出する際に、各画像に対してHEADリクエストを送信し、`Content-Length`（ファイルサイズ）を取得するようにしました。
- サイズが大きい画像（＝より高画質な可能性が高い画像）をリストの先頭に並べるようにソートロジックを追加しました。
- サイズが同じ場合は、ウェブページ内で早く発見された順番（安定ソート）を維持します。

### 2. 重複排除の強化
- 高画質化（URLのクリーンアップ）により、同じ画像が重複してリストに残らないよう、ソート後に再度重複排除を行っています。
- これにより、上位30枚のリストが常に最適化された状態でポップアップに表示されます。

## 検証結果

### 手動検証手順
1. Prime Videoの作品詳細ページで拡張機能を起動します。
2. カルーセルに表示される最初の画像が、小さなアイコンではなく、メインのポスター画像や高画質なヒーロー画像になっていることを確認してください。
3. デベロッパーツールの「ネットワーク」タブで、複数の画像に対して `Provisional headers are shown` (HEADリクエスト) が並列で実行されていることが確認できます。

## 成果物
- `content.js`: `getImageSize` 関数の追加、非同期ソートロジックの実装
